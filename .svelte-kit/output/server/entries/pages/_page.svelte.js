import { c as create_ssr_component, a as subscribe, b as add_attribute, e as escape, d as add_classes, f as each, v as validate_component } from "../../chunks/ssr.js";
import { d as derived, w as writable } from "../../chunks/index.js";
const engineError = writable(null);
const engineReady = writable(false);
derived(
  [engineReady, engineError],
  ([$ready, $error]) => $ready && !$error
);
const DEFAULT_LEGACY_INPUT = {
  // Portfolio
  startKapital: 225e3,
  depotwertAlt: 0,
  depotwertNeu: 0,
  // Ensure this defaults
  zielLiquiditaet: 18e3,
  startFloorBedarf: 12e3,
  startFlexBedarf: 22e3,
  // WASM Fields Mapped
  floorBedarf: 12e3,
  flexBedarf: 22e3,
  capeRatio: 32,
  marketCapeRatio: 32,
  einstandAlt: 0,
  einstandNeu: 0,
  costBasisAlt: 0,
  costBasisNeu: 0,
  aktuelleLiquiditaet: null,
  // Let engine sum it or user override
  // Strategy
  risikoprofil: "ausgewogen",
  targetEq: 60,
  rebalBand: 25,
  maxSkimPctOfEq: 10,
  maxBearRefillPctOfEq: 5,
  runwayMinMonths: 24,
  runwayTargetMonths: 36,
  // Gold
  goldAllokationAktiv: true,
  goldAktiv: true,
  // WASM
  goldAllokationProzent: 7.5,
  goldZielProzent: 7.5,
  // WASM
  goldFloorProzent: 1,
  goldWert: 0,
  goldCost: 0,
  goldSteuerfrei: true,
  goldRebalancingBand: 25,
  // Person 1
  aktuellesAlter: 63,
  p1Geschlecht: "m",
  renteMonatlich: 650,
  renteStartInJahren: 5,
  p1StartInJahren: 5,
  renteAnpassungPct: 2,
  rentAdjMode: "wage",
  rentAdjPct: 2,
  renteSteuerpflichtigPct: 83,
  p1SparerPauschbetrag: 1e3,
  p1KirchensteuerPct: 9,
  // Person 2
  partnerAktiv: false,
  p2AktuellesAlter: 60,
  p2Geschlecht: "w",
  p2RenteMonatlich: 0,
  p2RenteStartInJahren: 7,
  p2StartInJahren: 7,
  p2RenteAnpassungPct: 2,
  p2SparerPauschbetrag: 0,
  p2KirchensteuerPct: 0,
  p2Steuerquote: 0,
  // Widow
  widowPensionMode: "percent",
  widowPensionPct: 55,
  widowMarriageOffsetYears: 0,
  widowMinMarriageYears: 1,
  // Tax
  kapitalertragsteuer: 25,
  soli: 5.5,
  // Accumulation
  ansparphaseAktiv: false,
  ansparphaseDauerJahre: 0,
  ansparrateMonatlich: 0,
  sparrateIndexing: "inflation",
  ansparrateDynamik: 0,
  // Care
  pflegefallLogikAktiv: true,
  // Defaulting to true as per screenshot
  pflegeModellTyp: "chronisch",
  pflegeRampUpJahre: 5,
  pflegeDauerJahre: 10,
  pflegeMinDauer: 5,
  pflegeMaxDauer: 10,
  // Care Matrix Defaults
  pflegeStufe1Zusatz: 6e3,
  pflegeStufe1FlexCut: 75,
  pflegeStufe1Mortality: 0,
  pflegeStufe2Zusatz: 12e3,
  pflegeStufe2FlexCut: 25,
  pflegeStufe2Mortality: 0,
  pflegeStufe3Zusatz: 18e3,
  pflegeStufe3FlexCut: 10,
  pflegeStufe3Mortality: 3,
  pflegeStufe4Zusatz: 32e3,
  pflegeStufe4FlexCut: 0,
  pflegeStufe4Mortality: 5,
  pflegeStufe5Zusatz: 6e4,
  pflegeStufe5FlexCut: 0,
  pflegeStufe5Mortality: 5,
  pflegeMaxFloor: 12e4,
  pflegeRegionalZuschlag: 0,
  pflegeKostenDrift: 3.5,
  // Use legacy fields to satisfy type (won't use individually in matrix)
  pflegeKostenStufe1: 6e3,
  pflegeKostenStufe2: 12e3,
  pflegeKostenStufe3: 18e3,
  pflegeKostenStufe4: 32e3,
  pflegeKostenStufe5: 6e4,
  pflegeVersicherungMonatlich: 0,
  // MC Settings
  mcAnzahl: 1e3,
  mcDauer: 35,
  mcBlockSize: 5,
  mcSeed: 12345,
  mcMethode: "regime_markov",
  useCapeSampling: false,
  stressPreset: "none",
  // Backtest Settings
  btStartJahr: 2e3,
  btEndJahr: 2023
};
function createUserInputStore() {
  let initialValue = DEFAULT_LEGACY_INPUT;
  const { subscribe: subscribe2, set, update } = writable(initialValue);
  return {
    subscribe: subscribe2,
    set: (value) => {
      set(value);
    },
    update: (fn) => {
      update((v) => {
        const newValue = fn(v);
        return newValue;
      });
    },
    reset: () => {
      set(DEFAULT_LEGACY_INPUT);
    }
  };
}
const userInput = createUserInputStore();
const css$1 = {
  code: ".panel.svelte-qfyrqt{background:transparent;padding:0;box-shadow:none;border:none}fieldset.collapsible{background:white;border:1px solid #e5e7eb;border-radius:8px;margin-bottom:1.5rem;padding:0;overflow:hidden;box-shadow:0 1px 2px rgba(0, 0, 0, 0.05)}fieldset.collapsible legend{width:100%;background:#fafafa;padding:1rem 1.5rem;border-bottom:1px solid #f3f4f6;font-weight:600;color:#374151;cursor:pointer;display:flex;align-items:center;justify-content:space-between;font-size:1rem}fieldset.collapsible legend:hover{background:#f3f4f6}.fieldset-content{padding:1.5rem}.section-icon{margin-right:0.5rem}",
  map: '{"version":3,"file":"SimulatorForm.svelte","sources":["SimulatorForm.svelte"],"sourcesContent":["<script lang=\\"ts\\">import { userInput } from \\"$lib/stores/user-input\\";\\nimport { slide } from \\"svelte/transition\\";\\nimport \\"../styles/simulator.css\\";\\nlet collapsed = {\\n  rahmendaten: false,\\n  gold: true,\\n  // Only showing one open in screenshot for cleanliness, but user can open others\\n  runway: true,\\n  personen: true,\\n  anspar: true,\\n  pflege: true\\n};\\nfunction toggle(section) {\\n  collapsed[section] = !collapsed[section];\\n}\\n$: totalAssets = $userInput.startKapital || 0;\\n$: liquidity = $userInput.zielLiquiditaet || 0;\\n$: goldValue = $userInput.goldAktiv ? totalAssets * ($userInput.goldZielProzent / 100) : 0;\\n$: stockValue = Math.max(0, totalAssets - liquidity - goldValue);\\nconst fmt = (n) => new Intl.NumberFormat(\\"de-DE\\", {\\n  style: \\"currency\\",\\n  currency: \\"EUR\\"\\n}).format(n);\\n<\/script>\\r\\n\\r\\n<div class=\\"panel main-panel\\">\\r\\n    <!-- CONTENT: RAHMENDATEN (Now purely the form content) -->\\r\\n\\r\\n    <!-- 1. STARTPORTFOLIO -->\\r\\n    <fieldset class=\\"collapsible\\" class:collapsed={collapsed.rahmendaten}>\\r\\n        <legend on:click={() => toggle(\\"rahmendaten\\")}>\\r\\n            <span class=\\"legend-text\\"\\r\\n                ><span class=\\"section-icon\\">\u{1F4B0}</span>Startportfolio & Bedarf</span\\r\\n            >\\r\\n            <span class=\\"progress-indicator\\"></span>\\r\\n        </legend>\\r\\n        <div class=\\"fieldset-content\\" hidden={collapsed.rahmendaten}>\\r\\n            <div class=\\"form-grid-three-col\\">\\r\\n                <div class=\\"form-group\\">\\r\\n                    <label for=\\"startKapital\\">Gesamtverm\xF6gen (\u20AC)</label>\\r\\n                    <input\\r\\n                        type=\\"number\\"\\r\\n                        id=\\"startKapital\\"\\r\\n                        bind:value={$userInput.startKapital}\\r\\n                        min=\\"0\\"\\r\\n                        step=\\"1000\\"\\r\\n                    />\\r\\n                </div>\\r\\n                <div class=\\"form-group\\">\\r\\n                    <label for=\\"depotwertAlt\\">Depotwert Alt (\u20AC)</label>\\r\\n                    <input\\r\\n                        type=\\"number\\"\\r\\n                        id=\\"depotwertAlt\\"\\r\\n                        bind:value={$userInput.depotwertAlt}\\r\\n                        min=\\"0\\"\\r\\n                        step=\\"1000\\"\\r\\n                    />\\r\\n                </div>\\r\\n                <div class=\\"form-group\\">\\r\\n                    <label for=\\"zielLiquiditaet\\">Ziel-Liquidit\xE4t (\u20AC)</label>\\r\\n                    <input\\r\\n                        type=\\"number\\"\\r\\n                        id=\\"zielLiquiditaet\\"\\r\\n                        bind:value={$userInput.zielLiquiditaet}\\r\\n                        min=\\"0\\"\\r\\n                        step=\\"1000\\"\\r\\n                    />\\r\\n                </div>\\r\\n                <div class=\\"form-group\\">\\r\\n                    <label for=\\"floorBedarf\\">Floor-Bedarf p.a. (\u20AC)</label>\\r\\n                    <input\\r\\n                        type=\\"number\\"\\r\\n                        id=\\"floorBedarf\\"\\r\\n                        bind:value={$userInput.floorBedarf}\\r\\n                        min=\\"0\\"\\r\\n                        step=\\"500\\"\\r\\n                    />\\r\\n                </div>\\r\\n                <div class=\\"form-group\\">\\r\\n                    <label for=\\"flexBedarf\\">Flex-Bedarf p.a. (\u20AC)</label>\\r\\n                    <input\\r\\n                        type=\\"number\\"\\r\\n                        id=\\"flexBedarf\\"\\r\\n                        bind:value={$userInput.flexBedarf}\\r\\n                        min=\\"0\\"\\r\\n                        step=\\"500\\"\\r\\n                    />\\r\\n                </div>\\r\\n                <div class=\\"form-group\\">\\r\\n                    <label for=\\"marketCape\\">CAPE (Shiller)</label>\\r\\n                    <input\\r\\n                        type=\\"number\\"\\r\\n                        id=\\"marketCape\\"\\r\\n                        bind:value={$userInput.capeRatio}\\r\\n                        min=\\"0\\"\\r\\n                        step=\\"0.1\\"\\r\\n                    />\\r\\n                </div>\\r\\n                <div class=\\"form-group\\">\\r\\n                    <label for=\\"einstandAlt\\">Einstand Alt (\u20AC)</label>\\r\\n                    <input\\r\\n                        type=\\"number\\"\\r\\n                        id=\\"einstandAlt\\"\\r\\n                        bind:value={$userInput.einstandAlt}\\r\\n                        min=\\"0\\"\\r\\n                        step=\\"1000\\"\\r\\n                    />\\r\\n                </div>\\r\\n                <div class=\\"form-group\\">\\r\\n                    <label for=\\"einstandNeu\\">Einstand Neu (\u20AC)</label>\\r\\n                    <input\\r\\n                        type=\\"number\\"\\r\\n                        id=\\"einstandNeu\\"\\r\\n                        bind:value={$userInput.einstandNeu}\\r\\n                        min=\\"0\\"\\r\\n                        step=\\"1000\\"\\r\\n                    />\\r\\n                </div>\\r\\n            </div>\\r\\n\\r\\n            <!-- Finale Start-Allokation Visualization -->\\r\\n            <div\\r\\n                style=\\"margin-top: 25px; padding-top: 15px; border-top: 1px solid var(--border-color);\\"\\r\\n            >\\r\\n                <h4 style=\\"text-align: center; margin-bottom: 15px;\\">\\r\\n                    Finale Start-Allokation\\r\\n                </h4>\\r\\n\\r\\n                <div\\r\\n                    style=\\"display: flex; height: 30px; width: 100%; border-radius: 6px; overflow: hidden; margin-bottom: 8px;\\"\\r\\n                >\\r\\n                    <div\\r\\n                        style=\\"background-color: #dbeafe; width: {(stockValue /\\r\\n                            totalAssets) *\\r\\n                            100}%; display: flex; align-items: center; justify-content: center; font-size: 0.8rem; color: #1e40af; font-weight: bold;\\"\\r\\n                    >\\r\\n                        {stockValue > 0\\r\\n                            ? ((stockValue / totalAssets) * 100).toFixed(0) +\\r\\n                              \\"%\\"\\r\\n                            : \\"\\"}\\r\\n                    </div>\\r\\n                    <div\\r\\n                        style=\\"background-color: #fef9c3; width: {(goldValue /\\r\\n                            totalAssets) *\\r\\n                            100}%; display: flex; align-items: center; justify-content: center; font-size: 0.8rem; color: #854d0e; font-weight: bold;\\"\\r\\n                    >\\r\\n                        {goldValue > 0\\r\\n                            ? ((goldValue / totalAssets) * 100).toFixed(1) + \\"%\\"\\r\\n                            : \\"\\"}\\r\\n                    </div>\\r\\n                    <div\\r\\n                        style=\\"background-color: #dcfce7; width: {(liquidity /\\r\\n                            totalAssets) *\\r\\n                            100}%; display: flex; align-items: center; justify-content: center; font-size: 0.8rem; color: #166534; font-weight: bold;\\"\\r\\n                    >\\r\\n                        {liquidity > 0\\r\\n                            ? ((liquidity / totalAssets) * 100).toFixed(1) + \\"%\\"\\r\\n                            : \\"\\"}\\r\\n                    </div>\\r\\n                </div>\\r\\n\\r\\n                <div\\r\\n                    style=\\"display: flex; justify-content: space-between; font-size: 0.9rem; color: var(--text-light);\\"\\r\\n                >\\r\\n                    <div style=\\"width: 33%;\\">\\r\\n                        <span style=\\"display: block; font-weight: 500;\\"\\r\\n                            >Depot (Aktien)</span\\r\\n                        >\\r\\n                        <strong style=\\"color: #1e40af;\\"\\r\\n                            >{fmt(stockValue)}</strong\\r\\n                        >\\r\\n                    </div>\\r\\n                    <div style=\\"width: 33%; text-align: center;\\">\\r\\n                        <span style=\\"display: block; font-weight: 500;\\"\\r\\n                            >Depot (Gold)</span\\r\\n                        >\\r\\n                        <strong style=\\"color: #854d0e;\\">{fmt(goldValue)}</strong\\r\\n                        >\\r\\n                    </div>\\r\\n                    <div style=\\"width: 33%; text-align: right;\\">\\r\\n                        <span style=\\"display: block; font-weight: 500;\\"\\r\\n                            >Liquidit\xE4t</span\\r\\n                        >\\r\\n                        <strong style=\\"color: #166534;\\">{fmt(liquidity)}</strong\\r\\n                        >\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </fieldset>\\r\\n\\r\\n    <!-- 2. GOLD STRATEGIE -->\\r\\n    <fieldset class=\\"collapsible\\" class:collapsed={collapsed.gold}>\\r\\n        <legend on:click={() => toggle(\\"gold\\")}>\\r\\n            <span class=\\"legend-text\\"\\r\\n                ><span class=\\"section-icon\\">\u{1F947}</span>Gold-Strategie</span\\r\\n            >\\r\\n            <span class=\\"progress-indicator\\"></span>\\r\\n        </legend>\\r\\n        <div class=\\"fieldset-content\\" hidden={collapsed.gold}>\\r\\n            <div class=\\"form-group\\" style=\\"margin-bottom: 15px;\\">\\r\\n                <label\\r\\n                    style=\\"flex-direction: row; align-items: center; cursor: pointer;\\"\\r\\n                >\\r\\n                    <input\\r\\n                        type=\\"checkbox\\"\\r\\n                        bind:checked={$userInput.goldAktiv}\\r\\n                        style=\\"width: auto; margin-right: 8px;\\"\\r\\n                    />\\r\\n                    Gold-Allokation aktiv\\r\\n                </label>\\r\\n            </div>\\r\\n            <div\\r\\n                class=\\"form-grid-three-col\\"\\r\\n                class:disabled={!$userInput.goldAktiv}\\r\\n            >\\r\\n                <div class=\\"form-group\\">\\r\\n                    <label for=\\"goldAllo\\">Ziel-Allokation (%)</label>\\r\\n                    <input\\r\\n                        type=\\"number\\"\\r\\n                        id=\\"goldAllo\\"\\r\\n                        bind:value={$userInput.goldZielProzent}\\r\\n                        min=\\"0\\"\\r\\n                        max=\\"100\\"\\r\\n                        stepping=\\"0.5\\"\\r\\n                        disabled={!$userInput.goldAktiv}\\r\\n                    />\\r\\n                </div>\\r\\n                <div class=\\"form-group\\">\\r\\n                    <label for=\\"goldFloor\\">Gold-Floor (%)</label>\\r\\n                    <input\\r\\n                        type=\\"number\\"\\r\\n                        id=\\"goldFloor\\"\\r\\n                        bind:value={$userInput.goldFloorProzent}\\r\\n                        min=\\"0\\"\\r\\n                        max=\\"100\\"\\r\\n                        stepping=\\"0.5\\"\\r\\n                        disabled={!$userInput.goldAktiv}\\r\\n                    />\\r\\n                </div>\\r\\n                <div class=\\"form-group\\">\\r\\n                    <label for=\\"goldRebal\\">Rebalancing-Band (\xB1 %)</label>\\r\\n                    <input\\r\\n                        type=\\"number\\"\\r\\n                        id=\\"goldRebal\\"\\r\\n                        bind:value={$userInput.goldRebalancingBand}\\r\\n                        min=\\"0\\"\\r\\n                        max=\\"100\\"\\r\\n                        disabled={!$userInput.goldAktiv}\\r\\n                    />\\r\\n                </div>\\r\\n                <div class=\\"form-group\\" style=\\"align-self: flex-end;\\">\\r\\n                    <label\\r\\n                        style=\\"flex-direction: row; align-items: center; cursor: pointer;\\"\\r\\n                    >\\r\\n                        <input\\r\\n                            type=\\"checkbox\\"\\r\\n                            bind:checked={$userInput.goldSteuerfrei}\\r\\n                            style=\\"width: auto; margin-right: 8px;\\"\\r\\n                            disabled={!$userInput.goldAktiv}\\r\\n                        />\\r\\n                        Gold steuerfrei (>1J)\\r\\n                    </label>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </fieldset>\\r\\n\\r\\n    <!-- 3. RUNWAY & STRATEGIE -->\\r\\n    <fieldset class=\\"collapsible\\" class:collapsed={collapsed.runway}>\\r\\n        <legend on:click={() => toggle(\\"runway\\")}>\\r\\n            <span class=\\"legend-text\\"\\r\\n                ><span class=\\"section-icon\\">\u2696\uFE0F</span>Runway & Rebalancing</span\\r\\n            >\\r\\n            <span class=\\"progress-indicator\\"></span>\\r\\n        </legend>\\r\\n        <div class=\\"fieldset-content\\" hidden={collapsed.runway}>\\r\\n            <div class=\\"form-grid-three-col\\">\\r\\n                <div class=\\"form-group\\">\\r\\n                    <label for=\\"targetEq\\">Ziel-Aktienquote (%)</label>\\r\\n                    <input\\r\\n                        type=\\"number\\"\\r\\n                        id=\\"targetEq\\"\\r\\n                        bind:value={$userInput.targetEq}\\r\\n                        min=\\"0\\"\\r\\n                        max=\\"100\\"\\r\\n                    />\\r\\n                </div>\\r\\n                <div class=\\"form-group\\">\\r\\n                    <label for=\\"rebalBand\\">Rebalancing-Band (\xB1 %)</label>\\r\\n                    <input\\r\\n                        type=\\"number\\"\\r\\n                        id=\\"rebalBand\\"\\r\\n                        bind:value={$userInput.rebalBand}\\r\\n                        min=\\"0\\"\\r\\n                        max=\\"100\\"\\r\\n                    />\\r\\n                </div>\\r\\n                <div class=\\"form-group\\">\\r\\n                    <label for=\\"runwayMin\\">Runway Min (Monate)</label>\\r\\n                    <input\\r\\n                        type=\\"number\\"\\r\\n                        id=\\"runwayMin\\"\\r\\n                        bind:value={$userInput.runwayMinMonths}\\r\\n                        min=\\"0\\"\\r\\n                    />\\r\\n                </div>\\r\\n                <div class=\\"form-group\\">\\r\\n                    <label for=\\"runwayTarget\\">Runway Target (Monate)</label>\\r\\n                    <input\\r\\n                        type=\\"number\\"\\r\\n                        id=\\"runwayTarget\\"\\r\\n                        bind:value={$userInput.runwayTargetMonths}\\r\\n                        min=\\"0\\"\\r\\n                    />\\r\\n                </div>\\r\\n                <div class=\\"form-group\\">\\r\\n                    <label for=\\"maxSkim\\">Max. Skim (Aktien) (%)</label>\\r\\n                    <input\\r\\n                        type=\\"number\\"\\r\\n                        id=\\"maxSkim\\"\\r\\n                        bind:value={$userInput.maxSkimPctOfEq}\\r\\n                        min=\\"0\\"\\r\\n                    />\\r\\n                </div>\\r\\n                <div class=\\"form-group\\">\\r\\n                    <label for=\\"maxBear\\">Max. Refill (B\xE4r) (%)</label>\\r\\n                    <input\\r\\n                        type=\\"number\\"\\r\\n                        id=\\"maxBear\\"\\r\\n                        bind:value={$userInput.maxBearRefillPctOfEq}\\r\\n                        min=\\"0\\"\\r\\n                    />\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </fieldset>\\r\\n\\r\\n    <!-- 4. PERSONEN -->\\r\\n    <fieldset class=\\"collapsible\\" class:collapsed={collapsed.personen}>\\r\\n        <legend on:click={() => toggle(\\"personen\\")}>\\r\\n            <span class=\\"legend-text\\"\\r\\n                ><span class=\\"section-icon\\">\u{1F464}</span>Personen & Rente</span\\r\\n            >\\r\\n            <span class=\\"progress-indicator\\"></span>\\r\\n        </legend>\\r\\n        <div class=\\"fieldset-content\\" hidden={collapsed.personen}>\\r\\n            <h4 style=\\"margin-bottom: 10px;\\">Person 1</h4>\\r\\n            <div class=\\"form-grid-four-col\\">\\r\\n                <div class=\\"form-group\\">\\r\\n                    <label for=\\"p1Alter\\">Alter</label>\\r\\n                    <input\\r\\n                        type=\\"number\\"\\r\\n                        id=\\"p1Alter\\"\\r\\n                        bind:value={$userInput.aktuellesAlter}\\r\\n                    />\\r\\n                </div>\\r\\n                <div class=\\"form-group\\">\\r\\n                    <label for=\\"p1Rente\\">Rente (mtl.)</label>\\r\\n                    <input\\r\\n                        type=\\"number\\"\\r\\n                        id=\\"p1Rente\\"\\r\\n                        bind:value={$userInput.renteMonatlich}\\r\\n                    />\\r\\n                </div>\\r\\n                <div class=\\"form-group\\">\\r\\n                    <label for=\\"p1Start\\">Start in ... Jahren</label>\\r\\n                    <input\\r\\n                        type=\\"number\\"\\r\\n                        id=\\"p1Start\\"\\r\\n                        bind:value={$userInput.p1StartInJahren}\\r\\n                    />\\r\\n                </div>\\r\\n                <div class=\\"form-group\\">\\r\\n                    <label for=\\"p1Steuer\\">Steuerpflichtig (%)</label>\\r\\n                    <input\\r\\n                        type=\\"number\\"\\r\\n                        id=\\"p1Steuer\\"\\r\\n                        bind:value={$userInput.renteSteuerpflichtigPct}\\r\\n                    />\\r\\n                </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\"section-divider\\"></div>\\r\\n\\r\\n            <div class=\\"form-group\\" style=\\"margin-bottom: 15px;\\">\\r\\n                <label\\r\\n                    style=\\"flex-direction: row; align-items: center; cursor: pointer;\\"\\r\\n                >\\r\\n                    <input\\r\\n                        type=\\"checkbox\\"\\r\\n                        bind:checked={$userInput.partnerAktiv}\\r\\n                        style=\\"width: auto; margin-right: 8px;\\"\\r\\n                    />\\r\\n                    Partner aktivieren (Person 2)\\r\\n                </label>\\r\\n            </div>\\r\\n\\r\\n            {#if $userInput.partnerAktiv}\\r\\n                <h4 style=\\"margin-bottom: 10px;\\">Person 2</h4>\\r\\n                <div class=\\"form-grid-four-col\\">\\r\\n                    <div class=\\"form-group\\">\\r\\n                        <label for=\\"p2Alter\\">Alter</label>\\r\\n                        <input\\r\\n                            type=\\"number\\"\\r\\n                            id=\\"p2Alter\\"\\r\\n                            bind:value={$userInput.p2AktuellesAlter}\\r\\n                        />\\r\\n                    </div>\\r\\n                    <div class=\\"form-group\\">\\r\\n                        <label for=\\"p2Rente\\">Rente (mtl.)</label>\\r\\n                        <input\\r\\n                            type=\\"number\\"\\r\\n                            id=\\"p2Rente\\"\\r\\n                            bind:value={$userInput.p2RenteMonatlich}\\r\\n                        />\\r\\n                    </div>\\r\\n                    <div class=\\"form-group\\">\\r\\n                        <label for=\\"p2Start\\">Start in ... Jahren</label>\\r\\n                        <input\\r\\n                            type=\\"number\\"\\r\\n                            id=\\"p2Start\\"\\r\\n                            bind:value={$userInput.p2StartInJahren}\\r\\n                        />\\r\\n                    </div>\\r\\n                    <div class=\\"form-group\\">\\r\\n                        <label for=\\"p2Steuer\\">Steuerpflichtig (%)</label>\\r\\n                        <input\\r\\n                            type=\\"number\\"\\r\\n                            id=\\"p2Steuer\\"\\r\\n                            bind:value={$userInput.p2Steuerquote}\\r\\n                        />\\r\\n                    </div>\\r\\n                </div>\\r\\n            {/if}\\r\\n\\r\\n            <div class=\\"section-divider\\"></div>\\r\\n            <h4 style=\\"margin-bottom: 10px;\\">Hinterbliebenenrente</h4>\\r\\n            <div class=\\"form-grid-four-col\\">\\r\\n                <div class=\\"form-group\\">\\r\\n                    <label for=\\"widowMode\\">Modus</label>\\r\\n                    <select\\r\\n                        id=\\"widowMode\\"\\r\\n                        bind:value={$userInput.widowPensionMode}\\r\\n                    >\\r\\n                        <option value=\\"stop\\">Rente endet</option>\\r\\n                        <option value=\\"percent\\">Witwenrente (%)</option>\\r\\n                    </select>\\r\\n                </div>\\r\\n                <div class=\\"form-group\\">\\r\\n                    <label for=\\"widowPct\\">Witwenrente (%)</label>\\r\\n                    <input\\r\\n                        type=\\"number\\"\\r\\n                        id=\\"widowPct\\"\\r\\n                        bind:value={$userInput.widowPensionPct}\\r\\n                        disabled={$userInput.widowPensionMode !== \\"percent\\"}\\r\\n                    />\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </fieldset>\\r\\n\\r\\n    <!-- 5. ANSPARPHASE -->\\r\\n    <fieldset class=\\"collapsible\\" class:collapsed={collapsed.anspar}>\\r\\n        <legend on:click={() => toggle(\\"anspar\\")}>\\r\\n            <span class=\\"legend-text\\"\\r\\n                ><span class=\\"section-icon\\">\u{1F4C8}</span>Ansparphase</span\\r\\n            >\\r\\n            <span class=\\"progress-indicator\\"></span>\\r\\n        </legend>\\r\\n        <div class=\\"fieldset-content\\" hidden={collapsed.anspar}>\\r\\n            <div class=\\"form-group\\" style=\\"margin-bottom: 15px;\\">\\r\\n                <label\\r\\n                    style=\\"flex-direction: row; align-items: center; cursor: pointer;\\"\\r\\n                >\\r\\n                    <input\\r\\n                        type=\\"checkbox\\"\\r\\n                        bind:checked={$userInput.ansparphaseAktiv}\\r\\n                        style=\\"width: auto; margin-right: 8px;\\"\\r\\n                    />\\r\\n                    Ansparphase aktivieren\\r\\n                </label>\\r\\n            </div>\\r\\n            <div\\r\\n                class=\\"form-grid-three-col\\"\\r\\n                class:disabled={!$userInput.ansparphaseAktiv}\\r\\n            >\\r\\n                <div class=\\"form-group\\">\\r\\n                    <label for=\\"ansparDauer\\">Dauer (Jahre)</label>\\r\\n                    <input\\r\\n                        type=\\"number\\"\\r\\n                        id=\\"ansparDauer\\"\\r\\n                        bind:value={$userInput.ansparphaseDauerJahre}\\r\\n                        disabled={!$userInput.ansparphaseAktiv}\\r\\n                    />\\r\\n                </div>\\r\\n                <div class=\\"form-group\\">\\r\\n                    <label for=\\"ansparRate\\">Sparrate (mtl.)</label>\\r\\n                    <input\\r\\n                        type=\\"number\\"\\r\\n                        id=\\"ansparRate\\"\\r\\n                        bind:value={$userInput.ansparrateMonatlich}\\r\\n                        disabled={!$userInput.ansparphaseAktiv}\\r\\n                    />\\r\\n                </div>\\r\\n                <div class=\\"form-group\\">\\r\\n                    <label for=\\"ansparIndex\\">Indexierung</label>\\r\\n                    <select\\r\\n                        id=\\"ansparIndex\\"\\r\\n                        bind:value={$userInput.sparrateIndexing}\\r\\n                        disabled={!$userInput.ansparphaseAktiv}\\r\\n                    >\\r\\n                        <option value=\\"none\\">Keine</option>\\r\\n                        <option value=\\"inflation\\">Inflation</option>\\r\\n                        <option value=\\"wage\\">Lohnentwicklung</option>\\r\\n                    </select>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </fieldset>\\r\\n\\r\\n    <!-- 6. PFLEGE -->\\r\\n    <fieldset class=\\"collapsible\\" class:collapsed={collapsed.pflege}>\\r\\n        <legend on:click={() => toggle(\\"pflege\\")}>\\r\\n            <span class=\\"legend-text\\"\\r\\n                ><span class=\\"section-icon\\">\u{1F3E5}</span\\r\\n                >Pflegefall-Absicherung</span\\r\\n            >\\r\\n            <span class=\\"progress-indicator\\"></span>\\r\\n        </legend>\\r\\n        <div class=\\"fieldset-content\\" hidden={collapsed.pflege}>\\r\\n            <div class=\\"form-group\\" style=\\"margin-bottom: 15px;\\">\\r\\n                <label\\r\\n                    style=\\"flex-direction: row; align-items: center; cursor: pointer;\\"\\r\\n                >\\r\\n                    <input\\r\\n                        type=\\"checkbox\\"\\r\\n                        bind:checked={$userInput.pflegefallLogikAktiv}\\r\\n                        style=\\"width: auto; margin-right: 8px;\\"\\r\\n                    />\\r\\n                    Pflege-Logik aktivieren\\r\\n                </label>\\r\\n            </div>\\r\\n\\r\\n            <div class:disabled={!$userInput.pflegefallLogikAktiv}>\\r\\n                <div class=\\"care-section\\">\\r\\n                    <div class=\\"care-section-header\\">\\r\\n                        <h4>Matrix (Kosten & Mortalit\xE4t)</h4>\\r\\n                    </div>\\r\\n                    <div class=\\"care-grade-matrix\\">\\r\\n                        <div class=\\"care-grade-row care-grade-header\\">\\r\\n                            <div>Stufe</div>\\r\\n                            <div>Zusatz (\u20AC p.a.)</div>\\r\\n                            <div>Flex-Cut (%)</div>\\r\\n                            <div>Mortality</div>\\r\\n                        </div>\\r\\n                        <!-- STUFEN 1-5 -->\\r\\n                        {#each [1, 2, 3, 4, 5] as stufe}\\r\\n                            <div class=\\"care-grade-row\\">\\r\\n                                <div class=\\"care-grade-label\\">\\r\\n                                    <strong>Pflegegrad {stufe}</strong>\\r\\n                                </div>\\r\\n                                <div class=\\"form-group\\" style=\\"margin:0\\">\\r\\n                                    <input\\r\\n                                        type=\\"number\\"\\r\\n                                        bind:value={\\r\\n                                            $userInput[\\r\\n                                                `pflegeStufe${stufe}Zusatz`\\r\\n                                            ]\\r\\n                                        }\\r\\n                                        disabled={!$userInput.pflegefallLogikAktiv}\\r\\n                                    />\\r\\n                                </div>\\r\\n                                <div class=\\"form-group\\" style=\\"margin:0\\">\\r\\n                                    <input\\r\\n                                        type=\\"number\\"\\r\\n                                        bind:value={\\r\\n                                            $userInput[\\r\\n                                                `pflegeStufe${stufe}FlexCut`\\r\\n                                            ]\\r\\n                                        }\\r\\n                                        disabled={!$userInput.pflegefallLogikAktiv}\\r\\n                                    />\\r\\n                                </div>\\r\\n                                <div class=\\"form-group\\" style=\\"margin:0\\">\\r\\n                                    <input\\r\\n                                        type=\\"number\\"\\r\\n                                        bind:value={\\r\\n                                            $userInput[\\r\\n                                                `pflegeStufe${stufe}Mortality`\\r\\n                                            ]\\r\\n                                        }\\r\\n                                        step=\\"0.1\\"\\r\\n                                        disabled={!$userInput.pflegefallLogikAktiv}\\r\\n                                    />\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        {/each}\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </fieldset>\\r\\n</div>\\r\\n\\r\\n<style>\\r\\n    /* Styling overrides for nicer form look */\\r\\n    .panel {\\r\\n        background: transparent; /* Main wrapper is transparent, fieldsets provide bg */\\r\\n        padding: 0;\\r\\n        box-shadow: none;\\r\\n        border: none;\\r\\n    }\\r\\n\\r\\n    /* Style the fieldsets to look like the \\"Cards\\" in the screenshot */\\r\\n    :global(fieldset.collapsible) {\\r\\n        background: white;\\r\\n        border: 1px solid #e5e7eb;\\r\\n        border-radius: 8px;\\r\\n        margin-bottom: 1.5rem;\\r\\n        padding: 0;\\r\\n        overflow: hidden;\\r\\n        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);\\r\\n    }\\r\\n\\r\\n    :global(fieldset.collapsible legend) {\\r\\n        width: 100%;\\r\\n        background: #fafafa;\\r\\n        padding: 1rem 1.5rem;\\r\\n        border-bottom: 1px solid #f3f4f6;\\r\\n        font-weight: 600;\\r\\n        color: #374151;\\r\\n        cursor: pointer;\\r\\n        display: flex;\\r\\n        align-items: center;\\r\\n        justify-content: space-between;\\r\\n        font-size: 1rem;\\r\\n    }\\r\\n\\r\\n    :global(fieldset.collapsible legend:hover) {\\r\\n        background: #f3f4f6;\\r\\n    }\\r\\n\\r\\n    :global(.fieldset-content) {\\r\\n        padding: 1.5rem;\\r\\n    }\\r\\n\\r\\n    :global(.section-icon) {\\r\\n        margin-right: 0.5rem;\\r\\n    }\\r\\n</style>\\r\\n"],"names":[],"mappings":"AA+lBI,oBAAO,CACH,UAAU,CAAE,WAAW,CACvB,OAAO,CAAE,CAAC,CACV,UAAU,CAAE,IAAI,CAChB,MAAM,CAAE,IACZ,CAGQ,oBAAsB,CAC1B,UAAU,CAAE,KAAK,CACjB,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,OAAO,CACzB,aAAa,CAAE,GAAG,CAClB,aAAa,CAAE,MAAM,CACrB,OAAO,CAAE,CAAC,CACV,QAAQ,CAAE,MAAM,CAChB,UAAU,CAAE,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAC5C,CAEQ,2BAA6B,CACjC,KAAK,CAAE,IAAI,CACX,UAAU,CAAE,OAAO,CACnB,OAAO,CAAE,IAAI,CAAC,MAAM,CACpB,aAAa,CAAE,GAAG,CAAC,KAAK,CAAC,OAAO,CAChC,WAAW,CAAE,GAAG,CAChB,KAAK,CAAE,OAAO,CACd,MAAM,CAAE,OAAO,CACf,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,CACnB,eAAe,CAAE,aAAa,CAC9B,SAAS,CAAE,IACf,CAEQ,iCAAmC,CACvC,UAAU,CAAE,OAChB,CAEQ,iBAAmB,CACvB,OAAO,CAAE,MACb,CAEQ,aAAe,CACnB,YAAY,CAAE,MAClB"}'
};
const SimulatorForm = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let totalAssets;
  let liquidity;
  let goldValue;
  let stockValue;
  let $userInput, $$unsubscribe_userInput;
  $$unsubscribe_userInput = subscribe(userInput, (value) => $userInput = value);
  const fmt = (n) => new Intl.NumberFormat("de-DE", { style: "currency", currency: "EUR" }).format(n);
  $$result.css.add(css$1);
  totalAssets = $userInput.startKapital || 0;
  liquidity = $userInput.zielLiquiditaet || 0;
  goldValue = $userInput.goldAktiv ? totalAssets * ($userInput.goldZielProzent / 100) : 0;
  stockValue = Math.max(0, totalAssets - liquidity - goldValue);
  $$unsubscribe_userInput();
  return `<div class="panel main-panel svelte-qfyrqt">  <fieldset class="${["collapsible", ""].join(" ").trim()}"><legend data-svelte-h="svelte-1vrr6bu"><span class="legend-text"><span class="section-icon">\u{1F4B0}</span>Startportfolio &amp; Bedarf</span> <span class="progress-indicator"></span></legend> <div class="fieldset-content" ${""}><div class="form-grid-three-col"><div class="form-group"><label for="startKapital" data-svelte-h="svelte-e707js">Gesamtverm\xF6gen (\u20AC)</label> <input type="number" id="startKapital" min="0" step="1000"${add_attribute("value", $userInput.startKapital, 0)}></div> <div class="form-group"><label for="depotwertAlt" data-svelte-h="svelte-2pd4ml">Depotwert Alt (\u20AC)</label> <input type="number" id="depotwertAlt" min="0" step="1000"${add_attribute("value", $userInput.depotwertAlt, 0)}></div> <div class="form-group"><label for="zielLiquiditaet" data-svelte-h="svelte-hlxwto">Ziel-Liquidit\xE4t (\u20AC)</label> <input type="number" id="zielLiquiditaet" min="0" step="1000"${add_attribute("value", $userInput.zielLiquiditaet, 0)}></div> <div class="form-group"><label for="floorBedarf" data-svelte-h="svelte-1p7zux">Floor-Bedarf p.a. (\u20AC)</label> <input type="number" id="floorBedarf" min="0" step="500"${add_attribute("value", $userInput.floorBedarf, 0)}></div> <div class="form-group"><label for="flexBedarf" data-svelte-h="svelte-1hhuck5">Flex-Bedarf p.a. (\u20AC)</label> <input type="number" id="flexBedarf" min="0" step="500"${add_attribute("value", $userInput.flexBedarf, 0)}></div> <div class="form-group"><label for="marketCape" data-svelte-h="svelte-1ajp59i">CAPE (Shiller)</label> <input type="number" id="marketCape" min="0" step="0.1"${add_attribute("value", $userInput.capeRatio, 0)}></div> <div class="form-group"><label for="einstandAlt" data-svelte-h="svelte-10d9j4v">Einstand Alt (\u20AC)</label> <input type="number" id="einstandAlt" min="0" step="1000"${add_attribute("value", $userInput.einstandAlt, 0)}></div> <div class="form-group"><label for="einstandNeu" data-svelte-h="svelte-1n8uxr">Einstand Neu (\u20AC)</label> <input type="number" id="einstandNeu" min="0" step="1000"${add_attribute("value", $userInput.einstandNeu, 0)}></div></div>  <div style="margin-top: 25px; padding-top: 15px; border-top: 1px solid var(--border-color);"><h4 style="text-align: center; margin-bottom: 15px;" data-svelte-h="svelte-k9a9om">Finale Start-Allokation</h4> <div style="display: flex; height: 30px; width: 100%; border-radius: 6px; overflow: hidden; margin-bottom: 8px;"><div style="${"background-color: #dbeafe; width: " + escape(stockValue / totalAssets * 100, true) + "%; display: flex; align-items: center; justify-content: center; font-size: 0.8rem; color: #1e40af; font-weight: bold;"}">${escape(stockValue > 0 ? (stockValue / totalAssets * 100).toFixed(0) + "%" : "")}</div> <div style="${"background-color: #fef9c3; width: " + escape(goldValue / totalAssets * 100, true) + "%; display: flex; align-items: center; justify-content: center; font-size: 0.8rem; color: #854d0e; font-weight: bold;"}">${escape(goldValue > 0 ? (goldValue / totalAssets * 100).toFixed(1) + "%" : "")}</div> <div style="${"background-color: #dcfce7; width: " + escape(liquidity / totalAssets * 100, true) + "%; display: flex; align-items: center; justify-content: center; font-size: 0.8rem; color: #166534; font-weight: bold;"}">${escape(liquidity > 0 ? (liquidity / totalAssets * 100).toFixed(1) + "%" : "")}</div></div> <div style="display: flex; justify-content: space-between; font-size: 0.9rem; color: var(--text-light);"><div style="width: 33%;"><span style="display: block; font-weight: 500;" data-svelte-h="svelte-18waqjz">Depot (Aktien)</span> <strong style="color: #1e40af;">${escape(fmt(stockValue))}</strong></div> <div style="width: 33%; text-align: center;"><span style="display: block; font-weight: 500;" data-svelte-h="svelte-1gdr3l9">Depot (Gold)</span> <strong style="color: #854d0e;">${escape(fmt(goldValue))}</strong></div> <div style="width: 33%; text-align: right;"><span style="display: block; font-weight: 500;" data-svelte-h="svelte-1tzw93b">Liquidit\xE4t</span> <strong style="color: #166534;">${escape(fmt(liquidity))}</strong></div></div></div></div></fieldset>  <fieldset class="${["collapsible", "collapsed"].join(" ").trim()}"><legend data-svelte-h="svelte-11hpdj2"><span class="legend-text"><span class="section-icon">\u{1F947}</span>Gold-Strategie</span> <span class="progress-indicator"></span></legend> <div class="fieldset-content" ${"hidden"}><div class="form-group" style="margin-bottom: 15px;"><label style="flex-direction: row; align-items: center; cursor: pointer;"><input type="checkbox" style="width: auto; margin-right: 8px;"${add_attribute("checked", $userInput.goldAktiv, 1)}>
                    Gold-Allokation aktiv</label></div> <div class="${["form-grid-three-col", !$userInput.goldAktiv ? "disabled" : ""].join(" ").trim()}"><div class="form-group"><label for="goldAllo" data-svelte-h="svelte-wrb0ht">Ziel-Allokation (%)</label> <input type="number" id="goldAllo" min="0" max="100" stepping="0.5" ${!$userInput.goldAktiv ? "disabled" : ""}${add_attribute("value", $userInput.goldZielProzent, 0)}></div> <div class="form-group"><label for="goldFloor" data-svelte-h="svelte-1edqppf">Gold-Floor (%)</label> <input type="number" id="goldFloor" min="0" max="100" stepping="0.5" ${!$userInput.goldAktiv ? "disabled" : ""}${add_attribute("value", $userInput.goldFloorProzent, 0)}></div> <div class="form-group"><label for="goldRebal" data-svelte-h="svelte-4nku2p">Rebalancing-Band (\xB1 %)</label> <input type="number" id="goldRebal" min="0" max="100" ${!$userInput.goldAktiv ? "disabled" : ""}${add_attribute("value", $userInput.goldRebalancingBand, 0)}></div> <div class="form-group" style="align-self: flex-end;"><label style="flex-direction: row; align-items: center; cursor: pointer;"><input type="checkbox" style="width: auto; margin-right: 8px;" ${!$userInput.goldAktiv ? "disabled" : ""}${add_attribute("checked", $userInput.goldSteuerfrei, 1)}>
                        Gold steuerfrei (&gt;1J)</label></div></div></div></fieldset>  <fieldset class="${["collapsible", "collapsed"].join(" ").trim()}"><legend data-svelte-h="svelte-4dgaid"><span class="legend-text"><span class="section-icon">\u2696\uFE0F</span>Runway &amp; Rebalancing</span> <span class="progress-indicator"></span></legend> <div class="fieldset-content" ${"hidden"}><div class="form-grid-three-col"><div class="form-group"><label for="targetEq" data-svelte-h="svelte-otufvy">Ziel-Aktienquote (%)</label> <input type="number" id="targetEq" min="0" max="100"${add_attribute("value", $userInput.targetEq, 0)}></div> <div class="form-group"><label for="rebalBand" data-svelte-h="svelte-rfv7o2">Rebalancing-Band (\xB1 %)</label> <input type="number" id="rebalBand" min="0" max="100"${add_attribute("value", $userInput.rebalBand, 0)}></div> <div class="form-group"><label for="runwayMin" data-svelte-h="svelte-oc10er">Runway Min (Monate)</label> <input type="number" id="runwayMin" min="0"${add_attribute("value", $userInput.runwayMinMonths, 0)}></div> <div class="form-group"><label for="runwayTarget" data-svelte-h="svelte-qkvwr1">Runway Target (Monate)</label> <input type="number" id="runwayTarget" min="0"${add_attribute("value", $userInput.runwayTargetMonths, 0)}></div> <div class="form-group"><label for="maxSkim" data-svelte-h="svelte-847gg7">Max. Skim (Aktien) (%)</label> <input type="number" id="maxSkim" min="0"${add_attribute("value", $userInput.maxSkimPctOfEq, 0)}></div> <div class="form-group"><label for="maxBear" data-svelte-h="svelte-2msul3">Max. Refill (B\xE4r) (%)</label> <input type="number" id="maxBear" min="0"${add_attribute("value", $userInput.maxBearRefillPctOfEq, 0)}></div></div></div></fieldset>  <fieldset class="${["collapsible", "collapsed"].join(" ").trim()}"><legend data-svelte-h="svelte-1r2ved"><span class="legend-text"><span class="section-icon">\u{1F464}</span>Personen &amp; Rente</span> <span class="progress-indicator"></span></legend> <div class="fieldset-content" ${"hidden"}><h4 style="margin-bottom: 10px;" data-svelte-h="svelte-1swpuju">Person 1</h4> <div class="form-grid-four-col"><div class="form-group"><label for="p1Alter" data-svelte-h="svelte-er9ww5">Alter</label> <input type="number" id="p1Alter"${add_attribute("value", $userInput.aktuellesAlter, 0)}></div> <div class="form-group"><label for="p1Rente" data-svelte-h="svelte-a35y2r">Rente (mtl.)</label> <input type="number" id="p1Rente"${add_attribute("value", $userInput.renteMonatlich, 0)}></div> <div class="form-group"><label for="p1Start" data-svelte-h="svelte-qwo8me">Start in ... Jahren</label> <input type="number" id="p1Start"${add_attribute("value", $userInput.p1StartInJahren, 0)}></div> <div class="form-group"><label for="p1Steuer" data-svelte-h="svelte-1s21h15">Steuerpflichtig (%)</label> <input type="number" id="p1Steuer"${add_attribute("value", $userInput.renteSteuerpflichtigPct, 0)}></div></div> <div class="section-divider"></div> <div class="form-group" style="margin-bottom: 15px;"><label style="flex-direction: row; align-items: center; cursor: pointer;"><input type="checkbox" style="width: auto; margin-right: 8px;"${add_attribute("checked", $userInput.partnerAktiv, 1)}>
                    Partner aktivieren (Person 2)</label></div> ${$userInput.partnerAktiv ? `<h4 style="margin-bottom: 10px;" data-svelte-h="svelte-1cmn8z1">Person 2</h4> <div class="form-grid-four-col"><div class="form-group"><label for="p2Alter" data-svelte-h="svelte-1mbxkbg">Alter</label> <input type="number" id="p2Alter"${add_attribute("value", $userInput.p2AktuellesAlter, 0)}></div> <div class="form-group"><label for="p2Rente" data-svelte-h="svelte-1k3t9xq">Rente (mtl.)</label> <input type="number" id="p2Rente"${add_attribute("value", $userInput.p2RenteMonatlich, 0)}></div> <div class="form-group"><label for="p2Start" data-svelte-h="svelte-k80vkr">Start in ... Jahren</label> <input type="number" id="p2Start"${add_attribute("value", $userInput.p2StartInJahren, 0)}></div> <div class="form-group"><label for="p2Steuer" data-svelte-h="svelte-1rjkb4g">Steuerpflichtig (%)</label> <input type="number" id="p2Steuer"${add_attribute("value", $userInput.p2Steuerquote, 0)}></div></div>` : ``} <div class="section-divider"></div> <h4 style="margin-bottom: 10px;" data-svelte-h="svelte-1553w6a">Hinterbliebenenrente</h4> <div class="form-grid-four-col"><div class="form-group"><label for="widowMode" data-svelte-h="svelte-aiz631">Modus</label> <select id="widowMode"><option value="stop" data-svelte-h="svelte-1je5mlm">Rente endet</option><option value="percent" data-svelte-h="svelte-1sm661h">Witwenrente (%)</option></select></div> <div class="form-group"><label for="widowPct" data-svelte-h="svelte-16y4y2d">Witwenrente (%)</label> <input type="number" id="widowPct" ${$userInput.widowPensionMode !== "percent" ? "disabled" : ""}${add_attribute("value", $userInput.widowPensionPct, 0)}></div></div></div></fieldset>  <fieldset class="${["collapsible", "collapsed"].join(" ").trim()}"><legend data-svelte-h="svelte-1o0lfgm"><span class="legend-text"><span class="section-icon">\u{1F4C8}</span>Ansparphase</span> <span class="progress-indicator"></span></legend> <div class="fieldset-content" ${"hidden"}><div class="form-group" style="margin-bottom: 15px;"><label style="flex-direction: row; align-items: center; cursor: pointer;"><input type="checkbox" style="width: auto; margin-right: 8px;"${add_attribute("checked", $userInput.ansparphaseAktiv, 1)}>
                    Ansparphase aktivieren</label></div> <div class="${["form-grid-three-col", !$userInput.ansparphaseAktiv ? "disabled" : ""].join(" ").trim()}"><div class="form-group"><label for="ansparDauer" data-svelte-h="svelte-132tzqq">Dauer (Jahre)</label> <input type="number" id="ansparDauer" ${!$userInput.ansparphaseAktiv ? "disabled" : ""}${add_attribute("value", $userInput.ansparphaseDauerJahre, 0)}></div> <div class="form-group"><label for="ansparRate" data-svelte-h="svelte-5ij6xf">Sparrate (mtl.)</label> <input type="number" id="ansparRate" ${!$userInput.ansparphaseAktiv ? "disabled" : ""}${add_attribute("value", $userInput.ansparrateMonatlich, 0)}></div> <div class="form-group"><label for="ansparIndex" data-svelte-h="svelte-ommszh">Indexierung</label> <select id="ansparIndex" ${!$userInput.ansparphaseAktiv ? "disabled" : ""}><option value="none" data-svelte-h="svelte-nzi9bk">Keine</option><option value="inflation" data-svelte-h="svelte-1fyoooe">Inflation</option><option value="wage" data-svelte-h="svelte-7tpt12">Lohnentwicklung</option></select></div></div></div></fieldset>  <fieldset class="${["collapsible", "collapsed"].join(" ").trim()}"><legend data-svelte-h="svelte-rfj5ze"><span class="legend-text"><span class="section-icon">\u{1F3E5}</span>Pflegefall-Absicherung</span> <span class="progress-indicator"></span></legend> <div class="fieldset-content" ${"hidden"}><div class="form-group" style="margin-bottom: 15px;"><label style="flex-direction: row; align-items: center; cursor: pointer;"><input type="checkbox" style="width: auto; margin-right: 8px;"${add_attribute("checked", $userInput.pflegefallLogikAktiv, 1)}>
                    Pflege-Logik aktivieren</label></div> <div${add_classes((!$userInput.pflegefallLogikAktiv ? "disabled" : "").trim())}><div class="care-section"><div class="care-section-header" data-svelte-h="svelte-1ybiu27"><h4>Matrix (Kosten &amp; Mortalit\xE4t)</h4></div> <div class="care-grade-matrix"><div class="care-grade-row care-grade-header" data-svelte-h="svelte-ruxvd1"><div>Stufe</div> <div>Zusatz (\u20AC p.a.)</div> <div>Flex-Cut (%)</div> <div>Mortality</div></div>  ${each([1, 2, 3, 4, 5], (stufe) => {
    return `<div class="care-grade-row"><div class="care-grade-label"><strong>Pflegegrad ${escape(stufe)}</strong></div> <div class="form-group" style="margin:0"><input type="number" ${!$userInput.pflegefallLogikAktiv ? "disabled" : ""}${add_attribute("value", $userInput[`pflegeStufe${stufe}Zusatz`], 0)}></div> <div class="form-group" style="margin:0"><input type="number" ${!$userInput.pflegefallLogikAktiv ? "disabled" : ""}${add_attribute("value", $userInput[`pflegeStufe${stufe}FlexCut`], 0)}></div> <div class="form-group" style="margin:0"><input type="number" step="0.1" ${!$userInput.pflegefallLogikAktiv ? "disabled" : ""}${add_attribute("value", $userInput[`pflegeStufe${stufe}Mortality`], 0)}></div> </div>`;
  })}</div></div></div></div></fieldset> </div>`;
});
const css = {
  code: 'body{font-family:"Inter", "Segoe UI", Roboto, Helvetica, Arial, sans-serif;margin:0;background-color:#f3f4f6;color:#1f2937}main.svelte-1i7k30g.svelte-1i7k30g{width:100%;min-height:100vh;display:flex;flex-direction:column;align-items:center;padding-top:2rem}.app-container.svelte-1i7k30g.svelte-1i7k30g{width:100%;max-width:1400px;padding:0 1rem}.main-nav.svelte-1i7k30g.svelte-1i7k30g{display:flex;justify-content:center;border-bottom:1px solid #e5e7eb;margin-bottom:2rem;background:white;border-radius:8px;box-shadow:0 1px 3px rgba(0, 0, 0, 0.05);overflow:hidden}.nav-item.svelte-1i7k30g.svelte-1i7k30g{flex:1;padding:1rem 0;text-align:center;background:none;border:none;font-size:1rem;font-weight:500;color:#6b7280;cursor:pointer;position:relative;transition:all 0.2s ease}.nav-item.svelte-1i7k30g.svelte-1i7k30g:hover{color:#374151;background-color:#f9fafb}.nav-item.active.svelte-1i7k30g.svelte-1i7k30g{color:#d97706;font-weight:600}.nav-item.active.svelte-1i7k30g.svelte-1i7k30g::after{content:"";position:absolute;bottom:0;left:0;width:100%;height:3px;background-color:#d97706}.content-area.svelte-1i7k30g.svelte-1i7k30g{width:100%}.view-container.svelte-1i7k30g.svelte-1i7k30g{max-width:1000px;margin:0 auto}.card.svelte-1i7k30g.svelte-1i7k30g{background:white;border-radius:8px;box-shadow:0 1px 3px rgba(0, 0, 0, 0.1);padding:2rem;margin-bottom:2rem;border:1px solid #e5e7eb}.card-header.svelte-1i7k30g h2.svelte-1i7k30g{margin-top:0;margin-bottom:1.5rem;font-size:1.5rem;color:#111827;padding-bottom:0.5rem;border-bottom:1px solid #f3f4f6}.placeholder.svelte-1i7k30g.svelte-1i7k30g{text-align:center;color:#9ca3af;padding:4rem 2rem}',
  map: '{"version":3,"file":"+page.svelte","sources":["+page.svelte"],"sourcesContent":["<script lang=\\"ts\\">import MonteCarlo from \\"$lib/components/MonteCarlo.svelte\\";\\nimport Backtest from \\"$lib/components/Backtest.svelte\\";\\nimport SimulatorForm from \\"$lib/components/SimulatorForm.svelte\\";\\nimport { userInput } from \\"$lib/stores/user-input\\";\\n$: simulationInput = $userInput;\\nlet activeTab = \\"rahmendaten\\";\\n<\/script>\\r\\n\\r\\n<main>\\r\\n    <div class=\\"app-container\\">\\r\\n        <!-- HEADER / NAVIGATION -->\\r\\n        <nav class=\\"main-nav\\">\\r\\n            <button\\r\\n                class=\\"nav-item\\"\\r\\n                class:active={activeTab === \\"rahmendaten\\"}\\r\\n                on:click={() => (activeTab = \\"rahmendaten\\")}\\r\\n            >\\r\\n                Rahmendaten\\r\\n            </button>\\r\\n            <button\\r\\n                class=\\"nav-item\\"\\r\\n                class:active={activeTab === \\"montecarlo\\"}\\r\\n                on:click={() => (activeTab = \\"montecarlo\\")}\\r\\n            >\\r\\n                Monte-Carlo\\r\\n            </button>\\r\\n            <button\\r\\n                class=\\"nav-item\\"\\r\\n                class:active={activeTab === \\"backtesting\\"}\\r\\n                on:click={() => (activeTab = \\"backtesting\\")}\\r\\n            >\\r\\n                Backtesting\\r\\n            </button>\\r\\n            <button\\r\\n                class=\\"nav-item\\"\\r\\n                class:active={activeTab === \\"sweep\\"}\\r\\n                on:click={() => (activeTab = \\"sweep\\")}\\r\\n            >\\r\\n                Parameter-Sweep\\r\\n            </button>\\r\\n        </nav>\\r\\n\\r\\n        <!-- CONTENT AREA -->\\r\\n        <div class=\\"content-area\\">\\r\\n            {#if activeTab === \\"rahmendaten\\"}\\r\\n                <SimulatorForm />\\r\\n            {/if}\\r\\n\\r\\n            {#if activeTab === \\"montecarlo\\"}\\r\\n                <div class=\\"view-container\\">\\r\\n                    <section class=\\"card\\">\\r\\n                        <header class=\\"card-header\\">\\r\\n                            <h2>\u{1F52E} Monte Carlo Simulation</h2>\\r\\n                        </header>\\r\\n                        <MonteCarlo input={simulationInput} />\\r\\n                    </section>\\r\\n                </div>\\r\\n            {/if}\\r\\n\\r\\n            {#if activeTab === \\"backtesting\\"}\\r\\n                <div class=\\"view-container\\">\\r\\n                    <section class=\\"card\\">\\r\\n                        <header class=\\"card-header\\">\\r\\n                            <h2>\u{1F4DC} Historischer Backtest</h2>\\r\\n                        </header>\\r\\n                        <Backtest input={simulationInput} />\\r\\n                    </section>\\r\\n                </div>\\r\\n            {/if}\\r\\n\\r\\n            {#if activeTab === \\"sweep\\"}\\r\\n                <div class=\\"view-container\\">\\r\\n                    <div class=\\"card placeholder\\">\\r\\n                        <h2>Parameter Sweep</h2>\\r\\n                        <p>Diese Funktion ist noch nicht implementiert.</p>\\r\\n                    </div>\\r\\n                </div>\\r\\n            {/if}\\r\\n        </div>\\r\\n    </div>\\r\\n</main>\\r\\n\\r\\n<style>\\r\\n    :global(body) {\\r\\n        font-family: \\"Inter\\", \\"Segoe UI\\", Roboto, Helvetica, Arial, sans-serif;\\r\\n        margin: 0;\\r\\n        background-color: #f3f4f6; /* Light gray background like screenshot */\\r\\n        color: #1f2937;\\r\\n    }\\r\\n\\r\\n    main {\\r\\n        width: 100%;\\r\\n        min-height: 100vh;\\r\\n        display: flex;\\r\\n        flex-direction: column;\\r\\n        align-items: center;\\r\\n        padding-top: 2rem;\\r\\n    }\\r\\n\\r\\n    .app-container {\\r\\n        width: 100%;\\r\\n        max-width: 1400px;\\r\\n        padding: 0 1rem;\\r\\n    }\\r\\n\\r\\n    /* NAVIGATION TABS */\\r\\n    .main-nav {\\r\\n        display: flex;\\r\\n        justify-content: center;\\r\\n        border-bottom: 1px solid #e5e7eb;\\r\\n        margin-bottom: 2rem;\\r\\n        background: white;\\r\\n        border-radius: 8px;\\r\\n        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);\\r\\n        overflow: hidden;\\r\\n    }\\r\\n\\r\\n    .nav-item {\\r\\n        flex: 1;\\r\\n        padding: 1rem 0;\\r\\n        text-align: center;\\r\\n        background: none;\\r\\n        border: none;\\r\\n        font-size: 1rem;\\r\\n        font-weight: 500;\\r\\n        color: #6b7280;\\r\\n        cursor: pointer;\\r\\n        position: relative;\\r\\n        transition: all 0.2s ease;\\r\\n    }\\r\\n\\r\\n    .nav-item:hover {\\r\\n        color: #374151;\\r\\n        background-color: #f9fafb;\\r\\n    }\\r\\n\\r\\n    .nav-item.active {\\r\\n        color: #d97706; /* Amber-600 active color */\\r\\n        font-weight: 600;\\r\\n    }\\r\\n\\r\\n    .nav-item.active::after {\\r\\n        content: \\"\\";\\r\\n        position: absolute;\\r\\n        bottom: 0;\\r\\n        left: 0;\\r\\n        width: 100%;\\r\\n        height: 3px;\\r\\n        background-color: #d97706; /* Active border bottom */\\r\\n    }\\r\\n\\r\\n    /* CONTENT AREA */\\r\\n    .content-area {\\r\\n        width: 100%;\\r\\n    }\\r\\n\\r\\n    .view-container {\\r\\n        max-width: 1000px;\\r\\n        margin: 0 auto;\\r\\n    }\\r\\n\\r\\n    .card {\\r\\n        background: white;\\r\\n        border-radius: 8px;\\r\\n        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\\r\\n        padding: 2rem;\\r\\n        margin-bottom: 2rem;\\r\\n        border: 1px solid #e5e7eb;\\r\\n    }\\r\\n\\r\\n    .card-header h2 {\\r\\n        margin-top: 0;\\r\\n        margin-bottom: 1.5rem;\\r\\n        font-size: 1.5rem;\\r\\n        color: #111827;\\r\\n        padding-bottom: 0.5rem;\\r\\n        border-bottom: 1px solid #f3f4f6;\\r\\n    }\\r\\n\\r\\n    .placeholder {\\r\\n        text-align: center;\\r\\n        color: #9ca3af;\\r\\n        padding: 4rem 2rem;\\r\\n    }\\r\\n</style>\\r\\n"],"names":[],"mappings":"AAmFY,IAAM,CACV,WAAW,CAAE,OAAO,CAAC,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,CAAC,SAAS,CAAC,CAAC,KAAK,CAAC,CAAC,UAAU,CACtE,MAAM,CAAE,CAAC,CACT,gBAAgB,CAAE,OAAO,CACzB,KAAK,CAAE,OACX,CAEA,kCAAK,CACD,KAAK,CAAE,IAAI,CACX,UAAU,CAAE,KAAK,CACjB,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,MAAM,CACtB,WAAW,CAAE,MAAM,CACnB,WAAW,CAAE,IACjB,CAEA,4CAAe,CACX,KAAK,CAAE,IAAI,CACX,SAAS,CAAE,MAAM,CACjB,OAAO,CAAE,CAAC,CAAC,IACf,CAGA,uCAAU,CACN,OAAO,CAAE,IAAI,CACb,eAAe,CAAE,MAAM,CACvB,aAAa,CAAE,GAAG,CAAC,KAAK,CAAC,OAAO,CAChC,aAAa,CAAE,IAAI,CACnB,UAAU,CAAE,KAAK,CACjB,aAAa,CAAE,GAAG,CAClB,UAAU,CAAE,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CACzC,QAAQ,CAAE,MACd,CAEA,uCAAU,CACN,IAAI,CAAE,CAAC,CACP,OAAO,CAAE,IAAI,CAAC,CAAC,CACf,UAAU,CAAE,MAAM,CAClB,UAAU,CAAE,IAAI,CAChB,MAAM,CAAE,IAAI,CACZ,SAAS,CAAE,IAAI,CACf,WAAW,CAAE,GAAG,CAChB,KAAK,CAAE,OAAO,CACd,MAAM,CAAE,OAAO,CACf,QAAQ,CAAE,QAAQ,CAClB,UAAU,CAAE,GAAG,CAAC,IAAI,CAAC,IACzB,CAEA,uCAAS,MAAO,CACZ,KAAK,CAAE,OAAO,CACd,gBAAgB,CAAE,OACtB,CAEA,SAAS,qCAAQ,CACb,KAAK,CAAE,OAAO,CACd,WAAW,CAAE,GACjB,CAEA,SAAS,qCAAO,OAAQ,CACpB,OAAO,CAAE,EAAE,CACX,QAAQ,CAAE,QAAQ,CAClB,MAAM,CAAE,CAAC,CACT,IAAI,CAAE,CAAC,CACP,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,GAAG,CACX,gBAAgB,CAAE,OACtB,CAGA,2CAAc,CACV,KAAK,CAAE,IACX,CAEA,6CAAgB,CACZ,SAAS,CAAE,MAAM,CACjB,MAAM,CAAE,CAAC,CAAC,IACd,CAEA,mCAAM,CACF,UAAU,CAAE,KAAK,CACjB,aAAa,CAAE,GAAG,CAClB,UAAU,CAAE,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CACxC,OAAO,CAAE,IAAI,CACb,aAAa,CAAE,IAAI,CACnB,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,OACtB,CAEA,2BAAY,CAAC,iBAAG,CACZ,UAAU,CAAE,CAAC,CACb,aAAa,CAAE,MAAM,CACrB,SAAS,CAAE,MAAM,CACjB,KAAK,CAAE,OAAO,CACd,cAAc,CAAE,MAAM,CACtB,aAAa,CAAE,GAAG,CAAC,KAAK,CAAC,OAC7B,CAEA,0CAAa,CACT,UAAU,CAAE,MAAM,CAClB,KAAK,CAAE,OAAO,CACd,OAAO,CAAE,IAAI,CAAC,IAClB"}'
};
const Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let $$unsubscribe_userInput;
  $$unsubscribe_userInput = subscribe(userInput, (value) => value);
  $$result.css.add(css);
  $$unsubscribe_userInput();
  return `<main class="svelte-1i7k30g"><div class="app-container svelte-1i7k30g"> <nav class="main-nav svelte-1i7k30g"><button class="${["nav-item svelte-1i7k30g", "active"].join(" ").trim()}" data-svelte-h="svelte-rua7m5">Rahmendaten</button> <button class="${["nav-item svelte-1i7k30g", ""].join(" ").trim()}" data-svelte-h="svelte-1yv67yj">Monte-Carlo</button> <button class="${["nav-item svelte-1i7k30g", ""].join(" ").trim()}" data-svelte-h="svelte-11iog9d">Backtesting</button> <button class="${["nav-item svelte-1i7k30g", ""].join(" ").trim()}" data-svelte-h="svelte-1agw8x6">Parameter-Sweep</button></nav>  <div class="content-area svelte-1i7k30g">${`${validate_component(SimulatorForm, "SimulatorForm").$$render($$result, {}, {}, {})}`} ${``} ${``} ${``}</div></div> </main>`;
});
export {
  Page as default
};
